// Generated by CoffeeScript 1.6.2
(function() {
  var Sorter,
    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  Sorter = (function() {
    function Sorter() {
      this.bindSubmit = __bind(this.bindSubmit, this);
      this.bindCheckboxes = __bind(this.bindCheckboxes, this);
      this.bindSelectAll = __bind(this.bindSelectAll, this);
      this.bindTextField = __bind(this.bindTextField, this);      this.bindTextField();
      this.bindSelectAll();
      this.bindCheckboxes();
      this.bindSubmit();
      this.selectAll = false;
    }

    Sorter.prototype.bindTextField = function() {
      return $('#searchField').bind('textchange', function(e) {
        var currentText;

        currentText = $(this).val().toLowerCase();
        console.log($('.controls').find("[data-name*='" + currentText + "']"));
        if (currentText !== '') {
          $('.controls .checkbox').hide();
          return $('.controls').find("[data-name*='" + currentText + "']").show();
        } else {
          return $('.controls .checkbox').show();
        }
      });
    };

    Sorter.prototype.bindSelectAll = function() {
      return $("#selectall").on('click', function(e) {
        $('.list-email label').find(':checkbox').prop('checked', this.checked);
        if ($('.list-email label').find(':checkbox:checked').length > 0) {
          return $("#submit-btn").removeClass('disabled');
        } else {
          return $("#submit-btn").addClass('disabled');
        }
      });
    };

    Sorter.prototype.bindCheckboxes = function() {
      return $('.list-email label').find(':checkbox').on('click', function(e) {
        if ($('.list-email label').find(':checkbox:checked').length > 0) {
          return $("#submit-btn").removeClass('disabled');
        } else {
          return $("#submit-btn").addClass('disabled');
        }
      });
    };

    Sorter.prototype.bindSubmit = function() {
      var _this = this;

      return $("#submit-btn").on('click', function(e) {
        var sendTo;

        e.preventDefault();
        sendTo = [];
        return $('.list-email label').find(':checkbox:checked').each(function(addresses) {
          sendTo.push($(this).val());
          return console.log(sendTo);
        });
      });
    };

    return Sorter;

  })();

  $(document).ready(function() {
    return window.sorter = new Sorter;
  });

}).call(this);
